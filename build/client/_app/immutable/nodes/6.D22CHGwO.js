import"../chunks/Bzak7iHL.js";import{d as $a,p as ae,f as ee,t as p,i as Y,a as n,b as te,v as re,e as t,s as a,h as l,g as s,j as x,k as u,l as Ca,$ as oe,r as e,n as Pa,o as ie,w as de,u as le}from"../chunks/CpxVo7Xb.js";import{i as g}from"../chunks/C1oSKhUs.js";import{e as ka,i as Ra}from"../chunks/6RaR5WWk.js";import{h as se}from"../chunks/FiqctlaF.js";import{a as ve,e as ne}from"../chunks/DwtWQrsL.js";import{a as A,s as ce,r as Z}from"../chunks/CWn9fQy-.js";import{s as ue}from"../chunks/C2yMkv0y.js";import{i as E,s as I}from"../chunks/DwYBmEoc.js";import{B as me}from"../chunks/DlNLqZHT.js";import{a as _e,d as qa,e as fe}from"../chunks/DJc31okB.js";var be=u('<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm"> </div>'),pe=u('<div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm"> </div>'),xe=u("<option> </option>"),ge=u("<option> </option>"),he=u('<form method="POST" action="?/verify"><button type="submit" class="btn btn-primary w-full">‚úì Verificar Aporte</button></form>'),ye=u('<form method="POST" action="?/cancel"><button type="submit" class="btn btn-secondary w-full">‚úó Anular Aporte</button></form>'),Ae=u('<div class="fixed inset-0 z-50 flex items-center justify-center p-4"><div class="absolute inset-0 bg-black/50"></div> <div class="relative bg-white rounded-2xl p-6 max-w-sm w-full"><h3 class="text-lg font-display font-semibold text-slate-900 mb-2">¬øEliminar aporte?</h3> <p class="text-slate-600 mb-6">Esta acci√≥n no se puede deshacer.</p> <div class="flex justify-end gap-3"><button class="btn btn-secondary">Cancelar</button> <form method="POST" action="?/delete"><button type="submit" class="btn btn-danger">Eliminar</button></form></div></div></div>'),Ee=u('<div class="max-w-4xl mx-auto"><div class="mb-8"><a href="/admin/aportes" class="text-sm text-slate-600 hover:text-primary-600 mb-2 inline-block">‚Üê Volver a aportes</a> <div class="flex items-center justify-between"><div><h1 class="page-title">Detalle del Aporte</h1> <p class="text-slate-600 mt-1"> </p></div> <!></div></div> <!> <!> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><form method="POST" action="?/update" class="card p-6 space-y-6"><div><label for="donanteId" class="label">Donante *</label> <select id="donanteId" name="donanteId" class="select" required=""></select></div> <div><label for="rubroId" class="label">Rubro *</label> <select id="rubroId" name="rubroId" class="select" required=""></select></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="fecha" class="label">Fecha *</label> <input type="date" id="fecha" name="fecha" class="input" required=""/></div> <div><label for="monto" class="label">Monto *</label> <input type="number" id="monto" name="monto" step="0.01" min="0.01" class="input" required=""/></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="metodo" class="label">M√©todo de pago *</label> <select id="metodo" name="metodo" class="select" required=""><option>Dep√≥sito Bancario</option><option>Transferencia</option><option>Efectivo</option><option>Cheque</option><option>Otro</option></select></div> <div><label for="estado" class="label">Estado *</label> <select id="estado" name="estado" class="select" required=""><option>Pendiente</option><option>Verificado</option><option>Anulado</option></select></div></div> <div><label for="referencia" class="label">Referencia <span class="text-slate-400 font-normal">(privado)</span></label> <input type="text" id="referencia" name="referencia" class="input"/></div> <div><label for="comentario" class="label">Comentario</label> <textarea id="comentario" name="comentario" rows="2" class="input"></textarea></div> <div class="flex justify-end gap-3 pt-4 border-t border-slate-200"><button type="submit" class="btn btn-primary"> </button></div></form></div> <div class="space-y-6"><div class="card p-6"><h3 class="font-display font-semibold text-slate-800 mb-4">Informaci√≥n</h3> <div class="space-y-4 text-sm"><div><p class="text-slate-500">Monto</p> <p class="text-2xl font-bold text-primary-600"> </p></div> <div><p class="text-slate-500">Donante</p> <a class="font-medium text-primary-600 hover:underline"> </a></div> <div><p class="text-slate-500">Rubro</p> <div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div> <span class="font-medium"> </span></div></div> <div><p class="text-slate-500">Creado</p> <p class="font-medium"> </p></div> <div><p class="text-slate-500">Actualizado</p> <p class="font-medium"> </p></div></div></div> <div class="card p-6 space-y-3"><h3 class="font-display font-semibold text-slate-800 mb-4">Acciones</h3> <!> <!> <button class="btn btn-danger w-full">üóë Eliminar</button></div></div></div></div> <!>',1);function Ve(Va,r){ae(r,!0);let h=Ca(!1),y=Ca(!1);const Sa=i=>{switch(i){case"VERIFICADO":return"success";case"PENDIENTE":return"warning";case"ANULADO":return"danger";default:return"default"}};var $=Ee();se("158hwc3",i=>{re(o=>{oe.title=`Aporte #${o??""} - Admin`},[()=>r.data.aporte.id.slice(-6)])});var w=ee($),D=t(w),aa=a(t(D),2),O=t(aa),ea=a(t(O),2),ja=t(ea);e(ea),e(O);var Fa=a(O,2);{let i=le(()=>Sa(r.data.aporte.estado));me(Fa,{get variant(){return s(i)},children:(o,d)=>{Pa();var v=ie();p(()=>l(v,fe[r.data.aporte.estado])),n(o,v)},$$slots:{default:!0}})}e(aa),e(D);var ta=a(D,2);{var La=i=>{var o=be(),d=t(o,!0);e(o),p(()=>l(d,r.form.error)),n(i,o)};g(ta,i=>{var o;(o=r.form)!=null&&o.error&&i(La)})}var ra=a(ta,2);{var Ua=i=>{var o=pe(),d=t(o,!0);e(o),p(()=>l(d,r.form.verified?"Aporte verificado correctamente":r.form.cancelled?"Aporte anulado":"Aporte actualizado correctamente")),n(i,o)};g(ra,i=>{var o;(o=r.form)!=null&&o.success&&i(Ua)})}var oa=a(ra,2),N=t(oa),T=t(N),C=t(T),m=a(t(C),2);ka(m,21,()=>r.data.donantes,Ra,(i,o)=>{var d=xe(),v=t(d,!0);e(d);var c={};p(()=>{l(v,s(o).nombreNegocio||s(o).nombre),c!==(c=s(o).id)&&(d.value=(d.__value=s(o).id)??"")}),n(i,d)}),e(m);var ia;E(m),e(C);var P=a(C,2),_=a(t(P),2);ka(_,21,()=>r.data.rubros,Ra,(i,o)=>{var d=ge(),v=t(d,!0);e(d);var c={};p(()=>{l(v,s(o).nombre),c!==(c=s(o).id)&&(d.value=(d.__value=s(o).id)??"")}),n(i,d)}),e(_);var da;E(_),e(P);var k=a(P,2),R=t(k),la=a(t(R),2);Z(la),e(R);var sa=a(R,2),va=a(t(sa),2);Z(va),e(sa),e(k);var q=a(k,2),V=t(q),f=a(t(V),2),S=t(f);S.value=S.__value="DEPOSITO";var j=a(S);j.value=j.__value="TRANSFERENCIA";var F=a(j);F.value=F.__value="EFECTIVO";var L=a(F);L.value=L.__value="CHEQUE";var na=a(L);na.value=na.__value="OTRO",e(f);var ca;E(f),e(V);var ua=a(V,2),b=a(t(ua),2),U=t(b);U.value=U.__value="PENDIENTE";var z=a(U);z.value=z.__value="VERIFICADO";var ma=a(z);ma.value=ma.__value="ANULADO",e(b);var _a;E(b),e(ua),e(q);var B=a(q,2),fa=a(t(B),2);Z(fa),e(B);var M=a(B,2),ba=a(t(M),2);de(ba),e(M);var pa=a(M,2),G=t(pa),za=t(G,!0);e(G),e(pa),e(T),ve(T,(i,o)=>{var d;return(d=ne)==null?void 0:d(i,o)},()=>()=>(x(h,!0),async({update:i})=>{x(h,!1),await i()})),e(N);var xa=a(N,2),H=t(xa),ga=a(t(H),2),Q=t(ga),ha=a(t(Q),2),Ba=t(ha,!0);e(ha),e(Q);var J=a(Q,2),K=a(t(J),2),Ma=t(K,!0);e(K),e(J);var W=a(J,2),ya=a(t(W),2),Aa=t(ya),Ea=a(Aa,2),Ga=t(Ea,!0);e(Ea),e(ya),e(W);var X=a(W,2),Ia=a(t(X),2),Ha=t(Ia,!0);e(Ia),e(X);var wa=a(X,2),Da=a(t(wa),2),Qa=t(Da,!0);e(Da),e(wa),e(ga),e(H);var Oa=a(H,2),Na=a(t(Oa),2);{var Ja=i=>{var o=he();n(i,o)};g(Na,i=>{r.data.aporte.estado==="PENDIENTE"&&i(Ja)})}var Ta=a(Na,2);{var Ka=i=>{var o=ye();n(i,o)};g(Ta,i=>{r.data.aporte.estado!=="ANULADO"&&i(Ka)})}var Wa=a(Ta,2);e(Oa),e(xa),e(oa),e(w);var Xa=a(w,2);{var Ya=i=>{var o=Ae(),d=t(o),v=a(d,2),c=a(t(v),4),Za=t(c);Pa(2),e(c),e(v),e(o),Y("click",d,()=>x(y,!1)),Y("click",Za,()=>x(y,!1)),n(i,o)};g(Xa,i=>{s(y)&&i(Ya)})}p((i,o,d)=>{l(ja,`ID: ${r.data.aporte.id??""}`),ia!==(ia=r.data.aporte.donanteId)&&(m.value=(m.__value=r.data.aporte.donanteId)??"",I(m,r.data.aporte.donanteId)),da!==(da=r.data.aporte.rubroId)&&(_.value=(_.__value=r.data.aporte.rubroId)??"",I(_,r.data.aporte.rubroId)),A(la,r.data.aporte.fecha),A(va,r.data.aporte.monto),ca!==(ca=r.data.aporte.metodo)&&(f.value=(f.__value=r.data.aporte.metodo)??"",I(f,r.data.aporte.metodo)),_a!==(_a=r.data.aporte.estado)&&(b.value=(b.__value=r.data.aporte.estado)??"",I(b,r.data.aporte.estado)),A(fa,r.data.aporte.referencia??""),A(ba,r.data.aporte.comentario??""),G.disabled=s(h),l(za,s(h)?"Guardando...":"Guardar Cambios"),l(Ba,i),ce(K,"href",`/admin/donantes/${r.data.aporte.donante.id??""}`),l(Ma,r.data.aporte.donante.nombreNegocio||r.data.aporte.donante.nombre),ue(Aa,`background-color: ${r.data.aporte.rubro.color??""}`),l(Ga,r.data.aporte.rubro.nombre),l(Ha,o),l(Qa,d)},[()=>_e(r.data.aporte.monto),()=>qa(r.data.aporte.createdAt),()=>qa(r.data.aporte.updatedAt)]),Y("click",Wa,()=>x(y,!0)),n(Va,$),te()}$a(["click"]);export{Ve as component};

import"../chunks/Bzak7iHL.js";import{d as At,p as kt,l as q,q as U,t as x,i as rt,g as t,a as v,b as Et,m as It,e as r,s as o,k as u,$ as Nt,r as a,n as ot,h as l,j as H,f as Dt,o as Pt,u as Ct}from"../chunks/CpxVo7Xb.js";import{i as st}from"../chunks/C1oSKhUs.js";import{e as z,i as G}from"../chunks/6RaR5WWk.js";import{h as Lt}from"../chunks/FiqctlaF.js";import{r as jt,s as J}from"../chunks/CWn9fQy-.js";import{s as Bt}from"../chunks/Dj1_M-cw.js";import{s as Rt}from"../chunks/C2yMkv0y.js";import{b as Vt}from"../chunks/XiZwx-Ce.js";import{b as it}from"../chunks/DwYBmEoc.js";import{g as Ft}from"../chunks/CQlYeRKf.js";import{B as Mt}from"../chunks/DlNLqZHT.js";import{E as Ot}from"../chunks/88GCis-0.js";import{e as St,b as Tt,a as qt,m as Ut}from"../chunks/DJc31okB.js";var Ht=u("<option> </option>"),zt=u('<tr><td class="whitespace-nowrap"> </td><td><a class="font-medium text-slate-900 hover:text-primary-600"> </a></td><td><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full"></div> <span class="text-sm"> </span></div></td><td class="text-sm text-slate-600"> </td><td class="text-right font-bold text-green-600"> </td><td><!></td><td><a class="text-primary-600 hover:underline text-sm">Ver</a></td></tr>'),Gt=u("<a></a>"),Jt=u('<div class="flex justify-center gap-2"></div>'),Kt=u('<div class="card overflow-hidden"><table class="table"><thead><tr><th>Fecha</th><th>Donante</th><th>Rubro</th><th>MÃ©todo</th><th class="text-right">Monto</th><th>Estado</th><th></th></tr></thead><tbody></tbody></table></div> <!>',1),Qt=u('<div class="space-y-6"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"><div><h1 class="page-title">Aportes / Ingresos</h1> <p class="text-slate-600 mt-1"> </p></div> <a href="/admin/aportes/nuevo" class="btn btn-primary"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Nuevo Aporte</a></div> <div class="card p-4"><div class="flex flex-col sm:flex-row gap-4"><div class="flex-1"><input type="text" placeholder="Buscar donante..." class="input"/></div> <select class="select w-full sm:w-40"><option>Todos los estados</option><option>Pendiente</option><option>Verificado</option><option>Anulado</option></select> <select class="select w-full sm:w-40"><option>Todos los rubros</option><!></select> <button class="btn btn-primary">Buscar</button></div></div> <!></div>');function va(dt,i){kt(i,!0);let m=q(U(i.data.filtros.search)),p=q(U(i.data.filtros.estado)),_=q(U(i.data.filtros.rubroId));const nt=e=>{switch(e){case"VERIFICADO":return"success";case"PENDIENTE":return"warning";case"ANULADO":return"danger";default:return"default"}};function K(){const e=new URLSearchParams;t(m)&&e.set("q",t(m)),t(p)&&e.set("estado",t(p)),t(_)&&e.set("rubro",t(_)),Ft(`/admin/aportes?${e.toString()}`)}var E=Qt();Lt("ug8xi3",e=>{It(()=>{Nt.title="Aportes - Admin"})});var I=r(E),Q=r(I),W=o(r(Q),2),lt=r(W);a(W),a(Q),ot(2),a(I);var N=o(I,2),X=r(N),D=r(X),P=r(D);jt(P),a(D);var y=o(D,2),C=r(y);C.value=C.__value="";var L=o(C);L.value=L.__value="PENDIENTE";var j=o(L);j.value=j.__value="VERIFICADO";var Y=o(j);Y.value=Y.__value="ANULADO",a(y);var w=o(y,2),B=r(w);B.value=B.__value="";var vt=o(B);z(vt,17,()=>i.data.rubros,G,(e,c)=>{var d=Ht(),A=r(d,!0);a(d);var f={};x(()=>{l(A,t(c).nombre),f!==(f=t(c).id)&&(d.value=(d.__value=t(c).id)??"")}),v(e,d)}),a(w);var ct=o(w,2);a(X),a(N);var ut=o(N,2);{var mt=e=>{Ot(e,{title:"No hay aportes",description:"No se encontraron aportes con los filtros aplicados.",icon:"ðŸ’°",actionLabel:"Registrar aporte",actionHref:"/admin/aportes/nuevo"})},pt=e=>{var c=Kt(),d=Dt(c),A=r(d),f=o(r(A));z(f,21,()=>i.data.aportes,G,(h,s)=>{var g=zt(),k=r(g),b=r(k,!0);a(k);var n=o(k),R=r(n),ht=r(R,!0);a(R),a(n);var V=o(n),Z=r(V),$=r(Z),tt=o($,2),gt=r(tt,!0);a(tt),a(Z),a(V);var F=o(V),bt=r(F,!0);a(F);var M=o(F),xt=r(M,!0);a(M);var O=o(M),yt=r(O);{let S=Ct(()=>nt(t(s).estado));Mt(yt,{get variant(){return t(S)},children:(T,Wt)=>{ot();var et=Pt();x(()=>l(et,St[t(s).estado])),v(T,et)},$$slots:{default:!0}})}a(O);var at=o(O),wt=r(at);a(at),a(g),x((S,T)=>{l(b,S),J(R,"href",`/admin/donantes/${t(s).donanteId??""}`),l(ht,t(s).donante),Rt($,`background-color: ${t(s).rubroColor??""}`),l(gt,t(s).rubro),l(bt,Ut[t(s).metodo]||t(s).metodo),l(xt,T),J(wt,"href",`/admin/aportes/${t(s).id??""}`)},[()=>Tt(t(s).fecha),()=>qt(t(s).monto)]),v(h,g)}),a(f),a(A),a(d);var _t=o(d,2);{var ft=h=>{var s=Jt();z(s,21,()=>Array(Math.min(i.data.pagination.totalPages,10)),G,(g,k,b)=>{var n=Gt();n.textContent=b+1,x(()=>{J(n,"href",`/admin/aportes?page=${b+1}&q=${t(m)??""}&estado=${t(p)??""}&rubro=${t(_)??""}`),Bt(n,1,`w-10 h-10 rounded-lg flex items-center justify-center ${i.data.pagination.page===b+1?"bg-primary-600 text-white":"bg-white border border-slate-200 hover:bg-slate-50"}`)}),v(g,n)}),a(s),v(h,s)};st(_t,h=>{i.data.pagination.totalPages>1&&h(ft)})}v(e,c)};st(ut,e=>{i.data.aportes.length===0?e(mt):e(pt,!1)})}a(E),x(()=>l(lt,`${i.data.pagination.total??""} aporte${i.data.pagination.total!==1?"s":""} registrado${i.data.pagination.total!==1?"s":""}`)),rt("keyup",P,e=>e.key==="Enter"&&K()),Vt(P,()=>t(m),e=>H(m,e)),it(y,()=>t(p),e=>H(p,e)),it(w,()=>t(_),e=>H(_,e)),rt("click",ct,K),v(dt,E),Et()}At(["keyup","click"]);export{va as component};

{"version":3,"file":"_page.svelte-D_DdLbij.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/aportes/nuevo/_page.svelte.js"],"sourcesContent":["import { a as attr, b as attr_class, s as stringify, d as escape_html, j as bind_props, f as derived, h as head, e as ensure_array_like } from \"../../../../../chunks/index2.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../../../chunks/exports.js\";\nimport \"../../../../../chunks/utils.js\";\nimport \"@sveltejs/kit/internal/server\";\nimport \"../../../../../chunks/root.js\";\nimport \"../../../../../chunks/state.svelte.js\";\nfunction Combobox($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let {\n      options,\n      value = \"\",\n      placeholder = \"Seleccionar...\",\n      name,\n      required = false,\n      disabled = false\n    } = $$props;\n    const selectedOption = derived(() => options.find((o) => o.value === value));\n    $$renderer2.push(`<div class=\"combobox-container relative\"><input type=\"hidden\"${attr(\"name\", name)}${attr(\"value\", value)}/> <div class=\"relative\">`);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<button type=\"button\"${attr(\"disabled\", disabled, true)}${attr_class(`input w-full text-left pr-10 ${stringify(disabled ? \"opacity-50 cursor-not-allowed\" : \"cursor-pointer\")} ${stringify(!selectedOption() ? \"text-slate-400\" : \"\")}`)}>`);\n      if (selectedOption()) {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<span class=\"block truncate\">${escape_html(selectedOption().label)} `);\n        if (selectedOption().sublabel) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<span class=\"text-slate-500\">(${escape_html(selectedOption().sublabel)})</span>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n        }\n        $$renderer2.push(`<!--]--></span>`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n        $$renderer2.push(`<span class=\"block truncate\">${escape_html(placeholder)}</span>`);\n      }\n      $$renderer2.push(`<!--]--></button>`);\n    }\n    $$renderer2.push(`<!--]--> <span class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\"><svg class=\"w-5 h-5 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path></svg></span></div> `);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div> `);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]-->`);\n    bind_props($$props, { value });\n  });\n}\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { data, form } = $$props;\n    let loading = false;\n    let donanteId = data.preselectedDonante || \"\";\n    const donanteOptions = derived(() => data.donantes.map((d) => ({\n      value: d.id,\n      label: d.nombreNegocio || d.nombre,\n      sublabel: d.nombreNegocio ? d.nombre : void 0\n    })));\n    let $$settled = true;\n    let $$inner_renderer;\n    function $$render_inner($$renderer3) {\n      head(\"je07ob\", $$renderer3, ($$renderer4) => {\n        $$renderer4.title(($$renderer5) => {\n          $$renderer5.push(`<title>Nuevo Aporte - Admin</title>`);\n        });\n      });\n      $$renderer3.push(`<div class=\"max-w-2xl mx-auto\"><div class=\"mb-8\"><a href=\"/admin/aportes\" class=\"text-sm text-slate-600 hover:text-primary-600 mb-2 inline-block\">← Volver a aportes</a> <h1 class=\"page-title\">Registrar Aporte</h1></div> `);\n      if (form?.error) {\n        $$renderer3.push(\"<!--[-->\");\n        $$renderer3.push(`<div class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm\">${escape_html(form.error)}</div>`);\n      } else {\n        $$renderer3.push(\"<!--[!-->\");\n      }\n      $$renderer3.push(`<!--]--> <form method=\"POST\" class=\"card p-6 space-y-6\"><div><label for=\"donanteId\" class=\"label\">Donante *</label> `);\n      Combobox($$renderer3, {\n        name: \"donanteId\",\n        options: donanteOptions(),\n        placeholder: \"Buscar donante...\",\n        required: true,\n        get value() {\n          return donanteId;\n        },\n        set value($$value) {\n          donanteId = $$value;\n          $$settled = false;\n        }\n      });\n      $$renderer3.push(`<!----> <p class=\"text-xs text-slate-500 mt-1\">¿Donante nuevo? <a href=\"/admin/donantes/nuevo\" class=\"text-primary-600 hover:underline\">Crear primero</a></p></div> <div><label for=\"rubroId\" class=\"label\">Rubro / Categoría *</label> <select id=\"rubroId\" name=\"rubroId\" class=\"select\" required=\"\">`);\n      $$renderer3.option({ value: \"\" }, ($$renderer4) => {\n        $$renderer4.push(`Seleccionar rubro...`);\n      });\n      $$renderer3.push(`<!--[-->`);\n      const each_array = ensure_array_like(data.rubros);\n      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n        let rubro = each_array[$$index];\n        $$renderer3.option({ value: rubro.id }, ($$renderer4) => {\n          $$renderer4.push(`${escape_html(rubro.nombre)}`);\n        });\n      }\n      $$renderer3.push(`<!--]--></select></div> <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4\"><div><label for=\"fecha\" class=\"label\">Fecha *</label> <input type=\"date\" id=\"fecha\" name=\"fecha\"${attr(\"value\", (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0])} class=\"input\" required=\"\"/></div> <div><label for=\"monto\" class=\"label\">Monto *</label> <input type=\"number\" id=\"monto\" name=\"monto\" step=\"0.01\" min=\"0.01\" class=\"input\" placeholder=\"0.00\" required=\"\"/></div></div> <div><label for=\"metodo\" class=\"label\">Método de pago *</label> <select id=\"metodo\" name=\"metodo\" class=\"select\" required=\"\">`);\n      $$renderer3.option({ value: \"DEPOSITO\" }, ($$renderer4) => {\n        $$renderer4.push(`Depósito Bancario`);\n      });\n      $$renderer3.option({ value: \"TRANSFERENCIA\" }, ($$renderer4) => {\n        $$renderer4.push(`Transferencia`);\n      });\n      $$renderer3.option({ value: \"EFECTIVO\" }, ($$renderer4) => {\n        $$renderer4.push(`Efectivo`);\n      });\n      $$renderer3.option({ value: \"CHEQUE\" }, ($$renderer4) => {\n        $$renderer4.push(`Cheque`);\n      });\n      $$renderer3.option({ value: \"OTRO\" }, ($$renderer4) => {\n        $$renderer4.push(`Otro`);\n      });\n      $$renderer3.push(`</select></div> <div><label for=\"referencia\" class=\"label\">Número de referencia <span class=\"text-slate-400 font-normal\">(privado)</span></label> <input type=\"text\" id=\"referencia\" name=\"referencia\" class=\"input\" placeholder=\"Ej: Número de depósito, boleta, etc.\"/></div> <div><label for=\"comentario\" class=\"label\">Comentario</label> <textarea id=\"comentario\" name=\"comentario\" rows=\"2\" class=\"input\" placeholder=\"Notas adicionales...\"></textarea></div> <div><label for=\"estado\" class=\"label\">Estado inicial</label> <select id=\"estado\" name=\"estado\" class=\"select\">`);\n      $$renderer3.option({ value: \"PENDIENTE\" }, ($$renderer4) => {\n        $$renderer4.push(`Pendiente de verificación`);\n      });\n      $$renderer3.option({ value: \"VERIFICADO\" }, ($$renderer4) => {\n        $$renderer4.push(`Verificado`);\n      });\n      $$renderer3.push(`</select></div> <div class=\"flex justify-end gap-3 pt-4 border-t border-slate-200\"><a href=\"/admin/aportes\" class=\"btn btn-secondary\">Cancelar</a> <button type=\"submit\" class=\"btn btn-primary\"${attr(\"disabled\", loading, true)}>${escape_html(\"Registrar Aporte\")}</button></div></form></div>`);\n    }\n    do {\n      $$settled = true;\n      $$inner_renderer = $$renderer2.copy();\n      $$render_inner($$inner_renderer);\n    } while (!$$settled);\n    $$renderer2.subsume($$inner_renderer);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}
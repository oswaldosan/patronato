{"version":3,"file":"_page.svelte-DyqzGUnx.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/buscar/_page.svelte.js"],"sourcesContent":["import { a as attr, j as bind_props, h as head, d as escape_html, e as ensure_array_like, s as stringify, i as attr_style } from \"../../../chunks/index2.js\";\nimport { g as goto } from \"../../../chunks/client.js\";\nimport { B as Badge } from \"../../../chunks/Badge.js\";\nimport { E as EmptyState } from \"../../../chunks/EmptyState.js\";\nimport { f as formatCurrency } from \"../../../chunks/format.js\";\nfunction SearchInput($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { value = \"\", placeholder = \"Buscar...\", onSearch } = $$props;\n    $$renderer2.push(`<form class=\"relative\"><div class=\"relative\"><svg class=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path></svg> <input type=\"text\"${attr(\"value\", value)}${attr(\"placeholder\", placeholder)} class=\"w-full pl-12 pr-4 py-3 rounded-2xl border border-slate-200 bg-white text-slate-900 placeholder-slate-400 shadow-sm transition-all duration-200 focus:border-primary-500 focus:ring-4 focus:ring-primary-500/10 focus:outline-none\"/> `);\n    if (value) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<button type=\"button\" class=\"absolute right-14 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-slate-100 transition-colors\"><svg class=\"w-4 h-4 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> <button type=\"submit\" class=\"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-xl hover:bg-primary-700 transition-colors\">Buscar</button></div></form>`);\n    bind_props($$props, { value });\n  });\n}\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { data } = $$props;\n    let searchQuery = data.query;\n    function handleSearch(query) {\n      if (query && query.length >= 2) {\n        goto();\n      } else if (!query) {\n        goto();\n      }\n    }\n    let $$settled = true;\n    let $$inner_renderer;\n    function $$render_inner($$renderer3) {\n      head(\"4lhogl\", $$renderer3, ($$renderer4) => {\n        $$renderer4.title(($$renderer5) => {\n          $$renderer5.push(`<title>Buscar Donante - Patronato de Monterrey</title>`);\n        });\n      });\n      $$renderer3.push(`<div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\"><div class=\"text-center mb-12\"><h1 class=\"page-title mb-4\">Buscar Donante</h1> <p class=\"text-slate-600 max-w-xl mx-auto\">Busca por nombre de persona o empresa para ver el historial de donaciones y el total acumulado.</p></div> <div class=\"max-w-xl mx-auto mb-12\">`);\n      SearchInput($$renderer3, {\n        placeholder: \"Nombre de persona o empresa...\",\n        onSearch: handleSearch,\n        get value() {\n          return searchQuery;\n        },\n        set value($$value) {\n          searchQuery = $$value;\n          $$settled = false;\n        }\n      });\n      $$renderer3.push(`<!----> <p class=\"text-xs text-slate-400 mt-2 text-center\">Ingresa al menos 2 caracteres para buscar</p></div> `);\n      if (data.searched) {\n        $$renderer3.push(\"<!--[-->\");\n        if (data.donantes.length === 0) {\n          $$renderer3.push(\"<!--[-->\");\n          EmptyState($$renderer3, {\n            title: \"Sin resultados\",\n            description: \"No se encontraron donantes con ese nombre. Intenta con otro t√©rmino.\",\n            icon: \"üîç\"\n          });\n        } else {\n          $$renderer3.push(\"<!--[!-->\");\n          $$renderer3.push(`<div class=\"space-y-4\"><p class=\"text-sm text-slate-500\">${escape_html(data.donantes.length)} resultado${escape_html(data.donantes.length !== 1 ? \"s\" : \"\")} para \"<strong>${escape_html(data.query)}</strong>\"</p> <!--[-->`);\n          const each_array = ensure_array_like(data.donantes);\n          for (let i = 0, $$length = each_array.length; i < $$length; i++) {\n            let donante = each_array[i];\n            $$renderer3.push(`<a${attr(\"href\", `/donante/${stringify(donante.id)}`)} class=\"card p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:shadow-lg hover:border-primary-200 transition-all group animate-slide-up\"${attr_style(`animation-delay: ${stringify(i * 0.05)}s`)}><div class=\"flex items-center gap-4\"><div class=\"w-14 h-14 rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 flex items-center justify-center text-2xl font-display font-bold text-primary-600 group-hover:scale-110 transition-transform\">${escape_html((donante.nombreNegocio || donante.nombre).charAt(0).toUpperCase())}</div> <div><h3 class=\"font-display font-semibold text-lg text-slate-900 group-hover:text-primary-600 transition-colors\">${escape_html(donante.nombreNegocio || donante.nombre)}</h3> `);\n            if (donante.nombreNegocio) {\n              $$renderer3.push(\"<!--[-->\");\n              $$renderer3.push(`<p class=\"text-sm text-slate-500\">${escape_html(donante.nombre)}</p>`);\n            } else {\n              $$renderer3.push(\"<!--[!-->\");\n            }\n            $$renderer3.push(`<!--]--> <div class=\"flex items-center gap-2 mt-1\">`);\n            Badge($$renderer3, {\n              variant: donante.tipo === \"EMPRESA\" ? \"info\" : \"default\",\n              children: ($$renderer4) => {\n                $$renderer4.push(`<!---->${escape_html(donante.tipo === \"EMPRESA\" ? \"Empresa\" : \"Persona\")}`);\n              }\n            });\n            $$renderer3.push(`<!----> <span class=\"text-xs text-slate-400\">${escape_html(donante.cantidadDonaciones)} aporte${escape_html(donante.cantidadDonaciones !== 1 ? \"s\" : \"\")}</span></div></div></div> <div class=\"text-right\"><p class=\"text-sm text-slate-500\">Total donado</p> <p class=\"text-2xl font-display font-bold text-primary-600\">${escape_html(formatCurrency(donante.totalDonado))}</p></div></a>`);\n          }\n          $$renderer3.push(`<!--]--></div>`);\n        }\n        $$renderer3.push(`<!--]-->`);\n      } else {\n        $$renderer3.push(\"<!--[!-->\");\n        $$renderer3.push(`<div class=\"text-center py-12\"><div class=\"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6\"><svg class=\"w-10 h-10 text-slate-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path></svg></div> <h3 class=\"font-display font-semibold text-lg text-slate-700 mb-2\">Ingresa un t√©rmino de b√∫squeda</h3> <p class=\"text-slate-500 max-w-md mx-auto\">Puedes buscar por nombre de persona, nombre de empresa o negocio para ver su historial completo de donaciones.</p></div>`);\n      }\n      $$renderer3.push(`<!--]--></div>`);\n    }\n    do {\n      $$settled = true;\n      $$inner_renderer = $$renderer2.copy();\n      $$render_inner($$inner_renderer);\n    } while (!$$settled);\n    $$renderer2.subsume($$inner_renderer);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}
import"../chunks/Bzak7iHL.js";import{d as ie,p as le,l as j,q as C,t as u,g as e,i as kt,a as n,b as de,m as ve,s as t,e as s,h as c,j as p,k as f,$ as ne,r as a,f as yt,n as Mt,o as Et,u as ce,x as Pt}from"../chunks/CpxVo7Xb.js";import{i as x}from"../chunks/C1oSKhUs.js";import{e as jt,i as Ct}from"../chunks/6RaR5WWk.js";import{h as pe}from"../chunks/FiqctlaF.js";import{r as Bt,s as me}from"../chunks/CWn9fQy-.js";import{s as It}from"../chunks/Dj1_M-cw.js";import{s as _e}from"../chunks/C2yMkv0y.js";import{b as St}from"../chunks/XiZwx-Ce.js";import{b as ot}from"../chunks/DwYBmEoc.js";import{s as ue,a as fe}from"../chunks/BHkW5Tdc.js";import{g as Tt}from"../chunks/CQlYeRKf.js";import{p as ge}from"../chunks/BK_--6wx.js";import{B as Ht}from"../chunks/DlNLqZHT.js";import{E as xe}from"../chunks/88GCis-0.js";import{a as P,f as he,m as be}from"../chunks/DJc31okB.js";var we=f("<option> </option>"),ke=Pt('<svg class="w-6 h-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>'),ye=Pt('<svg class="w-6 h-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg>'),Me=f('<span class="mx-2">‚Ä¢</span> ',1),Ee=f('<p class="text-sm text-slate-400 mt-1"> </p>'),je=f('<div class="card p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:shadow-md transition-shadow animate-slide-up"><div class="flex items-start gap-4"><div><!></div> <div><div class="flex items-center gap-2 flex-wrap"><h3 class="font-medium text-slate-900"> </h3> <!></div> <p class="text-sm text-slate-500 mt-1"> <!></p> <!></div></div> <div class="text-right sm:text-left"><p> </p> <!></div></div>'),Ce=f('<div class="flex justify-center mt-8"><a class="btn btn-outline">Cargar m√°s</a></div>'),Be=f('<div class="space-y-3"></div> <!>',1),Ie=f('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><div class="mb-8"><h1 class="page-title mb-2">Movimientos</h1> <p class="text-slate-600">Consulta todos los ingresos y egresos verificados del proyecto.</p></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"><div class="card p-4 flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center"><svg class="w-6 h-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></div> <div><p class="text-sm text-slate-500">Ingresos</p> <p class="text-xl font-bold text-green-600"> </p></div></div> <div class="card p-4 flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center"><svg class="w-6 h-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg></div> <div><p class="text-sm text-slate-500">Egresos</p> <p class="text-xl font-bold text-red-600"> </p></div></div> <div class="card p-4 flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center"><svg class="w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div> <div><p class="text-sm text-slate-500">Balance</p> <p class="text-xl font-bold text-blue-600"> </p></div></div></div> <div class="card p-6 mb-8"><h2 class="font-display font-semibold text-slate-800 mb-4">Filtros</h2> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"><div><label for="tipo" class="label">Tipo</label> <select id="tipo" class="select"><option>Todos</option><option>Solo Ingresos</option><option>Solo Egresos</option></select></div> <div><label for="rubro" class="label">Rubro</label> <select id="rubro" class="select"><option>Todos</option><!></select></div> <div><label for="metodo" class="label">M√©todo</label> <select id="metodo" class="select"><option>Todos</option><option>Dep√≥sito</option><option>Transferencia</option><option>Efectivo</option><option>Cheque</option></select></div> <div><label for="desde" class="label">Desde</label> <input type="date" id="desde" class="input"/></div> <div><label for="hasta" class="label">Hasta</label> <input type="date" id="hasta" class="input"/></div></div> <div class="flex gap-3 mt-4"><button class="btn btn-primary">Aplicar Filtros</button> <button class="btn btn-secondary">Limpiar</button></div></div> <!></div>');function Ge(Ft,d){le(d,!0);const Dt=()=>fe(ge,"$page",Nt),[Nt,Rt]=ue();let m=j(C(d.data.filtros.tipo)),h=j(C(d.data.filtros.rubroId)),b=j(C(d.data.filtros.metodo)),w=j(C(d.data.filtros.desde)),k=j(C(d.data.filtros.hasta));function At(){const o=new URLSearchParams;e(m)&&e(m)!=="todos"&&o.set("tipo",e(m)),e(h)&&o.set("rubro",e(h)),e(b)&&o.set("metodo",e(b)),e(w)&&o.set("desde",e(w)),e(k)&&o.set("hasta",e(k)),Tt(`/movimientos?${o.toString()}`)}function Lt(){p(m,"todos"),p(h,""),p(b,""),p(w,""),p(k,""),Tt("/movimientos")}var F=Ie();pe("rsinwt",o=>{ve(()=>{ne.title="Movimientos - Patronato de Monterrey"})});var D=t(s(F),2),N=s(D),rt=t(s(N),2),it=t(s(rt),2),Ot=s(it,!0);a(it),a(rt),a(N);var R=t(N,2),lt=t(s(R),2),dt=t(s(lt),2),qt=s(dt,!0);a(dt),a(lt),a(R);var vt=t(R,2),nt=t(s(vt),2),ct=t(s(nt),2),Ut=s(ct,!0);a(ct),a(nt),a(vt),a(D);var A=t(D,2),L=t(s(A),2),O=s(L),q=t(s(O),2),U=s(q);U.value=U.__value="todos";var V=t(U);V.value=V.__value="ingresos";var pt=t(V);pt.value=pt.__value="egresos",a(q),a(O);var z=t(O,2),B=t(s(z),2),Q=s(B);Q.value=Q.__value="";var Vt=t(Q);jt(Vt,17,()=>d.data.rubros,Ct,(o,_)=>{var v=we(),Z=s(v,!0);a(v);var S={};u(()=>{c(Z,e(_).nombre),S!==(S=e(_).id)&&(v.value=(v.__value=e(_).id)??"")}),n(o,v)}),a(B),a(z);var G=t(z,2),I=t(s(G),2),J=s(I);J.value=J.__value="";var K=t(J);K.value=K.__value="DEPOSITO";var W=t(K);W.value=W.__value="TRANSFERENCIA";var X=t(W);X.value=X.__value="EFECTIVO";var mt=t(X);mt.value=mt.__value="CHEQUE",a(I),a(G);var Y=t(G,2),_t=t(s(Y),2);Bt(_t),a(Y);var ut=t(Y,2),ft=t(s(ut),2);Bt(ft),a(ut),a(L);var gt=t(L,2),xt=s(gt),zt=t(xt,2);a(gt),a(A);var Qt=t(A,2);{var Gt=o=>{xe(o,{title:"No hay movimientos",description:"No se encontraron movimientos con los filtros seleccionados.",icon:"üìã"})},Jt=o=>{var _=Be(),v=yt(_);jt(v,21,()=>d.data.movimientos,Ct,(y,i,$)=>{var g=je();_e(g,`animation-delay: ${$*.03}s`);var tt=s(g),T=s(tt),Kt=s(T);{var Wt=r=>{var l=ke();n(r,l)},Xt=r=>{var l=ye();n(r,l)};x(Kt,r=>{e(i).tipo==="ingreso"?r(Wt):r(Xt,!1)})}a(T);var ht=t(T,2),et=s(ht),at=s(et),Yt=s(at,!0);a(at);var Zt=t(at,2);{var $t=r=>{Ht(r,{variant:"info",children:(l,M)=>{Mt();var E=Et();u(()=>c(E,e(i).rubro)),n(l,E)},$$slots:{default:!0}})};x(Zt,r=>{e(i).rubro&&r($t)})}a(et);var st=t(et,2),bt=s(st),te=t(bt);{var ee=r=>{var l=Me(),M=t(yt(l));u(()=>c(M,` ${(be[e(i).metodo]||e(i).metodo)??""}`)),n(r,l)};x(te,r=>{e(i).metodo&&r(ee)})}a(st);var ae=t(st,2);{var se=r=>{var l=Ee(),M=s(l,!0);a(l),u(()=>c(M,e(i).detalle)),n(r,l)};x(ae,r=>{e(i).detalle&&r(se)})}a(ht),a(tt);var wt=t(tt,2),H=s(wt),oe=s(H);a(H);var re=t(H,2);{let r=ce(()=>e(i).tipo==="ingreso"?"success":"danger");Ht(re,{get variant(){return e(r)},children:(l,M)=>{Mt();var E=Et();u(()=>c(E,e(i).tipo==="ingreso"?"Ingreso":"Egreso")),n(l,E)},$$slots:{default:!0}})}a(wt),a(g),u((r,l)=>{It(T,1,`w-12 h-12 rounded-xl flex items-center justify-center ${e(i).tipo==="ingreso"?"bg-green-100":"bg-red-100"}`),c(Yt,e(i).concepto),c(bt,`${r??""} `),It(H,1,`text-xl font-bold ${e(i).tipo==="ingreso"?"text-green-600":"text-red-600"}`),c(oe,`${e(i).tipo==="ingreso"?"+":"-"}${l??""}`)},[()=>he(e(i).fecha),()=>P(e(i).monto)]),n(y,g)}),a(v);var Z=t(v,2);{var S=y=>{var i=Ce(),$=s(i);a(i),u(g=>me($,"href",`/movimientos?page=${d.data.pagination.page+1}&${g??""}`),[()=>Dt().url.searchParams.toString()]),n(y,i)};x(Z,y=>{d.data.pagination.hasMore&&y(S)})}n(o,_)};x(Qt,o=>{d.data.movimientos.length===0?o(Gt):o(Jt,!1)})}a(F),u((o,_,v)=>{c(Ot,o),c(qt,_),c(Ut,v),B.disabled=e(m)==="egresos",I.disabled=e(m)==="egresos"},[()=>P(d.data.totales.ingresos),()=>P(d.data.totales.egresos),()=>P(d.data.totales.ingresos-d.data.totales.egresos)]),ot(q,()=>e(m),o=>p(m,o)),ot(B,()=>e(h),o=>p(h,o)),ot(I,()=>e(b),o=>p(b,o)),St(_t,()=>e(w),o=>p(w,o)),St(ft,()=>e(k),o=>p(k,o)),kt("click",xt,At),kt("click",zt,Lt),n(Ft,F),de(),Rt()}ie(["click"]);export{Ge as component};

import"../chunks/Bzak7iHL.js";import{d as Za,p as $a,l as O,q as Q,t as h,D as at,g as e,i as ma,a as c,b as tt,m as et,s,e as t,h as v,j as R,k as p,$ as st,r as a,u as rt,f as ot}from"../chunks/CpxVo7Xb.js";import{i as k}from"../chunks/C1oSKhUs.js";import{e as M,i as N}from"../chunks/6RaR5WWk.js";import{h as lt}from"../chunks/FiqctlaF.js";import{r as Ta}from"../chunks/CWn9fQy-.js";import{s as V}from"../chunks/C2yMkv0y.js";import{b as Ia}from"../chunks/XiZwx-Ce.js";import{b as La}from"../chunks/DwYBmEoc.js";import{g as ua}from"../chunks/CQlYeRKf.js";import{B as za}from"../chunks/DlNLqZHT.js";import{a as W,f as Ba}from"../chunks/DJc31okB.js";var dt=p('<div><div class="flex justify-between items-center mb-1"><div class="flex items-center gap-2"><span class="w-3 h-3 rounded-full"></span> <span class="text-sm font-medium text-slate-700"> </span></div> <span class="text-sm font-semibold text-slate-900"> </span></div> <div class="h-2 bg-slate-100 rounded-full overflow-hidden"><div class="h-full rounded-full transition-all duration-500"></div></div> <p class="text-xs text-slate-500 mt-0.5 text-right"> </p></div>'),it=p('<div class="card p-6 mb-8"><h2 class="font-display font-semibold text-lg text-slate-800 mb-4">Distribucion de Gastos por Categoria</h2> <div class="space-y-3"></div></div>'),vt=p("<option> </option>"),nt=p("<option> </option>"),ct=p('<div class="p-12 text-center"><div class="text-4xl mb-3">ðŸ“­</div> <p class="text-slate-500">No se encontraron egresos con los filtros seleccionados.</p></div>'),pt=p('<p class="text-xs text-slate-500 mt-0.5 line-clamp-1"> </p>'),_t=p('<span class="flex items-center gap-1.5"><span class="w-2 h-2 rounded-full"></span> </span>'),xt=p('<span class="text-slate-400">-</span>'),ft=p('<span class="text-slate-700"> </span>'),mt=p('<span class="text-slate-400">-</span>'),ut=p('<tr><td class="whitespace-nowrap"> </td><td><div><span class="font-medium text-slate-900"> </span> <!></div></td><td><!></td><td><!></td><td class="text-right"><span class="font-semibold text-red-600"> </span></td></tr>'),bt=p('<span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full"></span> </span>'),ht=p('<span class="text-slate-500"> </span>'),gt=p('<p class="text-xs text-slate-500 mt-2"> </p>'),yt=p('<div class="p-4"><div class="flex justify-between items-start mb-2"><div class="flex-1"><p class="font-medium text-slate-900"> </p> <p class="text-xs text-slate-500"> </p></div> <span class="font-bold text-red-600"> </span></div> <div class="flex flex-wrap gap-2 text-xs"><!> <!></div> <!></div>'),wt=p('<div class="p-4 border-t border-slate-100 flex justify-center gap-2"><button class="btn btn-secondary btn-sm">Anterior</button> <span class="px-4 py-2 text-sm text-slate-600"> </span> <button class="btn btn-secondary btn-sm">Siguiente</button></div>'),Pt=p('<div class="hidden md:block overflow-x-auto"><table class="table"><thead><tr><th>Fecha</th><th>Concepto</th><th>Categoria</th><th>Proveedor</th><th class="text-right">Monto</th></tr></thead><tbody></tbody></table></div> <div class="md:hidden divide-y divide-slate-100"></div> <!>',1),kt=p('<div class="min-h-screen bg-slate-50"><section class="bg-gradient-to-br from-red-500 via-red-600 to-red-700 py-12"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center"><h1 class="text-3xl md:text-4xl font-display font-bold text-white mb-3">Gastos del Proyecto</h1> <p class="text-white/80 max-w-2xl mx-auto">Transparencia total: conoce en detalle como se utilizan los fondos recaudados.</p></div></div></section> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="grid grid-cols-1 md:grid-cols-3 gap-6 -mt-16 mb-8 relative z-10"><div class="card p-6 text-center"><p class="text-sm text-slate-500 mb-1">Total Gastado</p> <p class="text-3xl font-display font-bold text-red-600"> </p></div> <div class="card p-6 text-center"><p class="text-sm text-slate-500 mb-1">Egresos Registrados</p> <p class="text-3xl font-display font-bold text-slate-800"> </p></div> <div class="card p-6 text-center"><p class="text-sm text-slate-500 mb-1">Categorias</p> <p class="text-3xl font-display font-bold text-slate-800"> </p></div></div> <!> <div class="card p-4 mb-6"><form class="flex flex-wrap gap-4 items-end"><div class="flex-1 min-w-[150px]"><label for="rubro" class="label">Categoria</label> <select id="rubro" class="select"><option>Todas</option><!></select></div> <div class="flex-1 min-w-[150px]"><label for="proveedor" class="label">Proveedor</label> <select id="proveedor" class="select"><option>Todos</option><!></select></div> <div class="flex-1 min-w-[140px]"><label for="desde" class="label">Desde</label> <input type="date" id="desde" class="input"/></div> <div class="flex-1 min-w-[140px]"><label for="hasta" class="label">Hasta</label> <input type="date" id="hasta" class="input"/></div> <div class="flex gap-2"><button type="submit" class="btn btn-primary">Filtrar</button> <button type="button" class="btn btn-secondary">Limpiar</button></div></form></div> <div class="card overflow-hidden"><div class="p-4 border-b border-slate-100"><h2 class="font-display font-semibold text-slate-800">Detalle de Gastos <span class="text-sm font-normal text-slate-500 ml-2"> </span></h2></div> <!></div></div></div>');function Et(Ea,l){$a(l,!0);let S=O(Q(l.data.filtros.rubroId)),j=O(Q(l.data.filtros.proveedorId)),F=O(Q(l.data.filtros.desde)),T=O(Q(l.data.filtros.hasta));function Ua(){const r=new URLSearchParams;e(S)&&r.set("rubro",e(S)),e(j)&&r.set("proveedor",e(j)),e(F)&&r.set("desde",e(F)),e(T)&&r.set("hasta",e(T)),ua(`/egresos?${r.toString()}`)}function qa(){R(S,""),R(j,""),R(F,""),R(T,""),ua("/egresos")}function ba(r){const d=new URLSearchParams;d.set("page",r.toString()),e(S)&&d.set("rubro",e(S)),e(j)&&d.set("proveedor",e(j)),e(F)&&d.set("desde",e(F)),e(T)&&d.set("hasta",e(T)),ua(`/egresos?${d.toString()}`)}var X=kt();lt("6t7cxf",r=>{et(()=>{st.title="Gastos del Proyecto - Portal de Transparencia"})});var ha=s(t(X),2),Y=t(ha),Z=t(Y),ga=s(t(Z),2),Aa=t(ga,!0);a(ga),a(Z);var $=s(Z,2),ya=s(t($),2),Ha=t(ya,!0);a(ya),a($);var wa=s($,2),Pa=s(t(wa),2),Ma=t(Pa,!0);a(Pa),a(wa),a(Y);var ka=s(Y,2);{var Na=r=>{var d=it(),n=s(t(d),2);M(n,21,()=>l.data.stats.porRubro,N,(C,f)=>{const L=rt(()=>e(f).total/l.data.stats.totalGastado*100);var E=dt(),U=t(E),y=t(U),o=t(y),m=s(o,2),b=t(m,!0);a(m),a(y);var w=s(y,2),g=t(w,!0);a(w),a(U);var G=s(U,2),D=t(G);a(G);var z=s(G,2),B=t(z);a(z),a(E),h((q,P)=>{V(o,`background-color: ${e(f).color??""}`),v(b,e(f).nombre),v(g,q),V(D,`width: ${e(L)??""}%; background-color: ${e(f).color??""}`),v(B,`${P??""}%`)},[()=>W(e(f).total),()=>e(L).toFixed(1)]),c(C,E)}),a(n),a(d),c(r,d)};k(ka,r=>{l.data.stats.porRubro.length>0&&r(Na)})}var aa=s(ka,2),ta=t(aa),ea=t(ta),sa=s(t(ea),2),ra=t(sa);ra.value=ra.__value="";var Ja=s(ra);M(Ja,17,()=>l.data.rubros,N,(r,d)=>{var n=vt(),C=t(n,!0);a(n);var f={};h(()=>{v(C,e(d).nombre),f!==(f=e(d).id)&&(n.value=(n.__value=e(d).id)??"")}),c(r,n)}),a(sa),a(ea);var oa=s(ea,2),la=s(t(oa),2),da=t(la);da.value=da.__value="";var Ka=s(da);M(Ka,17,()=>l.data.proveedores,N,(r,d)=>{var n=nt(),C=t(n,!0);a(n);var f={};h(()=>{v(C,e(d).nombre),f!==(f=e(d).id)&&(n.value=(n.__value=e(d).id)??"")}),c(r,n)}),a(la),a(oa);var ia=s(oa,2),Ca=s(t(ia),2);Ta(Ca),a(ia);var va=s(ia,2),Ga=s(t(va),2);Ta(Ga),a(va);var Da=s(va,2),Oa=s(t(Da),2);a(Da),a(ta),a(aa);var Ra=s(aa,2),na=t(Ra),Sa=t(na),ja=s(t(Sa)),Qa=t(ja);a(ja),a(Sa),a(na);var Va=s(na,2);{var Wa=r=>{var d=ct();c(r,d)},Xa=r=>{var d=Pt(),n=ot(d),C=t(n),f=s(t(C));M(f,21,()=>l.data.egresos,N,(y,o)=>{var m=ut(),b=t(m),w=t(b,!0);a(b);var g=s(b),G=t(g),D=t(G),z=t(D,!0);a(D);var B=s(D,2);{var q=i=>{var _=pt(),K=t(_,!0);a(_),h(()=>v(K,e(o).notas)),c(i,_)};k(B,i=>{e(o).notas&&i(q)})}a(G),a(g);var P=s(g),J=t(P);{var ca=i=>{za(i,{variant:"default",children:(_,K)=>{var fa=_t(),Fa=t(fa),Ya=s(Fa);a(fa),h(()=>{V(Fa,`background-color: ${e(o).rubroColor??""}`),v(Ya,` ${e(o).rubro??""}`)}),c(_,fa)},$$slots:{default:!0}})},pa=i=>{var _=xt();c(i,_)};k(J,i=>{e(o).rubro?i(ca):i(pa,!1)})}a(P);var A=s(P),_a=t(A);{var xa=i=>{var _=ft(),K=t(_,!0);a(_),h(()=>v(K,e(o).proveedor)),c(i,_)},x=i=>{var _=mt();c(i,_)};k(_a,i=>{e(o).proveedor?i(xa):i(x,!1)})}a(A);var u=s(A),I=t(u),H=t(I,!0);a(I),a(u),a(m),h((i,_)=>{v(w,i),v(z,e(o).concepto),v(H,_)},[()=>Ba(e(o).fecha),()=>W(e(o).monto)]),c(y,m)}),a(f),a(C),a(n);var L=s(n,2);M(L,21,()=>l.data.egresos,N,(y,o)=>{var m=yt(),b=t(m),w=t(b),g=t(w),G=t(g,!0);a(g);var D=s(g,2),z=t(D,!0);a(D),a(w);var B=s(w,2),q=t(B,!0);a(B),a(b);var P=s(b,2),J=t(P);{var ca=x=>{za(x,{variant:"default",children:(u,I)=>{var H=bt(),i=t(H),_=s(i);a(H),h(()=>{V(i,`background-color: ${e(o).rubroColor??""}`),v(_,` ${e(o).rubro??""}`)}),c(u,H)},$$slots:{default:!0}})};k(J,x=>{e(o).rubro&&x(ca)})}var pa=s(J,2);{var A=x=>{var u=ht(),I=t(u);a(u),h(()=>v(I,`Proveedor: ${e(o).proveedor??""}`)),c(x,u)};k(pa,x=>{e(o).proveedor&&x(A)})}a(P);var _a=s(P,2);{var xa=x=>{var u=gt(),I=t(u,!0);a(u),h(()=>v(I,e(o).notas)),c(x,u)};k(_a,x=>{e(o).notas&&x(xa)})}a(m),h((x,u)=>{v(G,e(o).concepto),v(z,x),v(q,u)},[()=>Ba(e(o).fecha),()=>W(e(o).monto)]),c(y,m)}),a(L);var E=s(L,2);{var U=y=>{var o=wt(),m=t(o),b=s(m,2),w=t(b);a(b);var g=s(b,2);a(o),h(()=>{m.disabled=l.data.pagination.page<=1,v(w,`Pagina ${l.data.pagination.page??""} de ${l.data.pagination.totalPages??""}`),g.disabled=l.data.pagination.page>=l.data.pagination.totalPages}),ma("click",m,()=>ba(l.data.pagination.page-1)),ma("click",g,()=>ba(l.data.pagination.page+1)),c(y,o)};k(E,y=>{l.data.pagination.totalPages>1&&y(U)})}c(r,d)};k(Va,r=>{l.data.egresos.length===0?r(Wa):r(Xa,!1)})}a(Ra),a(ha),a(X),h(r=>{v(Aa,r),v(Ha,l.data.stats.totalEgresos),v(Ma,l.data.stats.porRubro.length),v(Qa,`(${l.data.pagination.total??""} registros)`)},[()=>W(l.data.stats.totalGastado)]),at("submit",ta,r=>{r.preventDefault(),Ua()}),La(sa,()=>e(S),r=>R(S,r)),La(la,()=>e(j),r=>R(j,r)),Ia(Ca,()=>e(F),r=>R(F,r)),Ia(Ga,()=>e(T),r=>R(T,r)),ma("click",Oa,qa),c(Ea,X),tt()}Za(["click"]);export{Et as component};

import"../chunks/Bzak7iHL.js";import{d as Pt,p as Nt,l as W,q as X,t as m,i as Y,g as t,a as n,b as St,m as jt,e,s,j as Z,k as c,$ as Bt,r as a,n as T,h as d,f as Dt,o as tt,u as at}from"../chunks/CpxVo7Xb.js";import{i as u}from"../chunks/C1oSKhUs.js";import{e as et,i as rt}from"../chunks/6RaR5WWk.js";import{h as Ct}from"../chunks/FiqctlaF.js";import{r as Rt,s as ot}from"../chunks/CWn9fQy-.js";import{s as qt}from"../chunks/Dj1_M-cw.js";import{b as Lt}from"../chunks/XiZwx-Ce.js";import{b as Mt}from"../chunks/DwYBmEoc.js";import{g as Tt}from"../chunks/CQlYeRKf.js";import{B as st}from"../chunks/DlNLqZHT.js";import{E as Ht}from"../chunks/88GCis-0.js";import{t as $t,a as Ft}from"../chunks/DJc31okB.js";var It=c('<p class="text-xs text-slate-500"> </p>'),Ot=c("<p> </p>"),Ut=c('<p class="text-slate-500"> </p>'),zt=c('<span class="text-slate-400">-</span>'),Gt=c('<tr><td><div><p class="font-medium text-slate-900"> </p> <!></div></td><td><!></td><td><div class="text-sm"><!> <!> <!></div></td><td class="text-center"> </td><td class="text-right font-bold text-primary-600"> </td><td><!></td><td><a class="text-primary-600 hover:underline text-sm">Editar</a></td></tr>'),Jt=c("<a></a>"),Kt=c('<div class="flex justify-center gap-2"></div>'),Qt=c('<div class="card overflow-hidden"><table class="table"><thead><tr><th>Nombre</th><th>Tipo</th><th>Contacto</th><th class="text-center">Aportes</th><th class="text-right">Total</th><th>Estado</th><th></th></tr></thead><tbody></tbody></table></div> <!>',1),Vt=c('<div class="space-y-6"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"><div><h1 class="page-title">Donantes</h1> <p class="text-slate-600 mt-1"> </p></div> <a href="/admin/donantes/nuevo" class="btn btn-primary"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Nuevo Donante</a></div> <div class="card p-4"><div class="flex flex-col sm:flex-row gap-4"><div class="flex-1"><input type="text" placeholder="Buscar por nombre..." class="input"/></div> <select class="select w-full sm:w-48"><option>Todos los tipos</option><option>Persona</option><option>Empresa</option></select> <button class="btn btn-primary">Buscar</button></div></div> <!></div>');function na(it,v){Nt(v,!0);let h=W(X(v.data.filtros.search)),x=W(X(v.data.filtros.tipo));function H(){const i=new URLSearchParams;t(h)&&i.set("q",t(h)),t(x)&&i.set("tipo",t(x)),Tt(`/admin/donantes?${i.toString()}`)}var E=Vt();Ct("vhxxuf",i=>{jt(()=>{Bt.title="Donantes - Admin"})});var A=e(E),$=e(A),F=s(e($),2),lt=e(F);a(F),a($),T(2),a(A);var P=s(A,2),I=e(P),N=e(I),S=e(N);Rt(S),a(N);var w=s(N,2),j=e(w);j.value=j.__value="";var B=s(j);B.value=B.__value="PERSONA";var O=s(B);O.value=O.__value="EMPRESA",a(w);var vt=s(w,2);a(I),a(P);var nt=s(P,2);{var dt=i=>{Ht(i,{title:"No hay donantes",description:"No se encontraron donantes con los filtros aplicados.",icon:"ðŸ‘¥",actionLabel:"Agregar donante",actionHref:"/admin/donantes/nuevo"})},ct=i=>{var U=Qt(),D=Dt(U),z=e(D),G=s(e(z));et(G,21,()=>v.data.donantes,rt,(g,r)=>{var b=Gt(),k=e(b),f=e(k),p=e(f),_t=e(p,!0);a(p);var ft=s(p,2);{var ut=o=>{var l=It(),_=e(l,!0);a(l),m(()=>d(_,t(r).nombre)),n(o,l)};u(ft,o=>{t(r).nombreNegocio&&o(ut)})}a(f),a(k);var C=s(k),ht=e(C);{let o=at(()=>t(r).tipo==="EMPRESA"?"info":"default");st(ht,{get variant(){return t(o)},children:(l,_)=>{T();var y=tt();m(()=>d(y,$t[t(r).tipo])),n(l,y)},$$slots:{default:!0}})}a(C);var R=s(C),J=e(R),K=e(J);{var xt=o=>{var l=Ot(),_=e(l,!0);a(l),m(()=>d(_,t(r).telefono)),n(o,l)};u(K,o=>{t(r).telefono&&o(xt)})}var Q=s(K,2);{var gt=o=>{var l=Ut(),_=e(l,!0);a(l),m(()=>d(_,t(r).email)),n(o,l)};u(Q,o=>{t(r).email&&o(gt)})}var bt=s(Q,2);{var yt=o=>{var l=zt();n(o,l)};u(bt,o=>{!t(r).telefono&&!t(r).email&&o(yt)})}a(J),a(R);var q=s(R),wt=e(q,!0);a(q);var L=s(q),kt=e(L,!0);a(L);var M=s(L),Et=e(M);{let o=at(()=>t(r).activo?"success":"danger");st(Et,{get variant(){return t(o)},children:(l,_)=>{T();var y=tt();m(()=>d(y,t(r).activo?"Activo":"Inactivo")),n(l,y)},$$slots:{default:!0}})}a(M);var V=s(M),At=e(V);a(V),a(b),m(o=>{d(_t,t(r).nombreNegocio||t(r).nombre),d(wt,t(r).totalAportes),d(kt,o),ot(At,"href",`/admin/donantes/${t(r).id??""}`)},[()=>Ft(t(r).totalDonado)]),n(g,b)}),a(G),a(z),a(D);var pt=s(D,2);{var mt=g=>{var r=Kt();et(r,21,()=>Array(v.data.pagination.totalPages),rt,(b,k,f)=>{var p=Jt();p.textContent=f+1,m(()=>{ot(p,"href",`/admin/donantes?page=${f+1}&q=${t(h)??""}&tipo=${t(x)??""}`),qt(p,1,`w-10 h-10 rounded-lg flex items-center justify-center ${v.data.pagination.page===f+1?"bg-primary-600 text-white":"bg-white border border-slate-200 hover:bg-slate-50"}`)}),n(b,p)}),a(r),n(g,r)};u(pt,g=>{v.data.pagination.totalPages>1&&g(mt)})}n(i,U)};u(nt,i=>{v.data.donantes.length===0?i(dt):i(ct,!1)})}a(E),m(()=>d(lt,`${v.data.pagination.total??""} donante${v.data.pagination.total!==1?"s":""} registrado${v.data.pagination.total!==1?"s":""}`)),Y("keyup",S,i=>i.key==="Enter"&&H()),Lt(S,()=>t(h),i=>Z(h,i)),Mt(w,()=>t(x),i=>Z(x,i)),Y("click",vt,H),n(it,E),St()}Pt(["keyup","click"]);export{na as component};

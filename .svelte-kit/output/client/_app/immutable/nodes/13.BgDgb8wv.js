import"../chunks/Bzak7iHL.js";import{d as _t,p as ht,l as J,q as K,t as g,i as Q,g as e,a as v,b as gt,m as xt,e as r,s,j as W,k as p,$ as bt,r as t,n as X,h as c,f as yt,o as wt,u as Et}from"../chunks/CpxVo7Xb.js";import{i as O}from"../chunks/C1oSKhUs.js";import{e as Y,i as Z}from"../chunks/6RaR5WWk.js";import{h as kt}from"../chunks/FiqctlaF.js";import{r as At,s as $}from"../chunks/CWn9fQy-.js";import{s as Nt}from"../chunks/Dj1_M-cw.js";import{s as Pt}from"../chunks/C2yMkv0y.js";import{b as Ct}from"../chunks/XiZwx-Ce.js";import{b as Dt}from"../chunks/DwYBmEoc.js";import{g as It}from"../chunks/CQlYeRKf.js";import{B as jt}from"../chunks/DlNLqZHT.js";import{E as Bt}from"../chunks/88GCis-0.js";import{c as Lt,b as Vt,a as Ft}from"../chunks/DJc31okB.js";var Ot=p('<p class="text-xs text-slate-500 flex items-center gap-2"><span class="inline-flex w-2 h-2 rounded-full"></span> </p>'),Rt=p('<tr><td class="whitespace-nowrap"> </td><td><p class="font-medium text-slate-900"> </p> <!></td><td class="text-sm text-slate-600"> </td><td class="text-right font-bold text-red-600"> </td><td><!></td><td><a class="text-primary-600 hover:underline text-sm">Ver</a></td></tr>'),St=p("<a></a>"),qt=p('<div class="flex justify-center gap-2"></div>'),Mt=p('<div class="card overflow-hidden"><table class="table"><thead><tr><th>Fecha</th><th>Concepto</th><th>Proveedor</th><th class="text-right">Monto</th><th>Estado</th><th></th></tr></thead><tbody></tbody></table></div> <!>',1),Tt=p('<div class="space-y-6"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"><div><h1 class="page-title">Egresos / Gastos</h1> <p class="text-slate-600 mt-1"> </p></div> <a href="/admin/egresos/nuevo" class="btn btn-primary"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Nuevo Egreso</a></div> <div class="card p-4"><div class="flex flex-col sm:flex-row gap-4"><div class="flex-1"><input type="text" placeholder="Buscar por concepto o proveedor..." class="input"/></div> <select class="select w-full sm:w-40"><option>Todos los estados</option><option>Pendiente</option><option>Verificado</option><option>Anulado</option></select> <button class="btn btn-primary">Buscar</button></div></div> <!></div>');function ea(tt,i){ht(i,!0);let m=J(K(i.data.filtros.search)),f=J(K(i.data.filtros.estado));const at=a=>{switch(a){case"VERIFICADO":return"success";case"PENDIENTE":return"warning";case"ANULADO":return"danger";default:return"default"}};function R(){const a=new URLSearchParams;e(m)&&a.set("q",e(m)),e(f)&&a.set("estado",e(f)),It(`/admin/egresos?${a.toString()}`)}var w=Tt();kt("y7om5z",a=>{xt(()=>{bt.title="Egresos - Admin"})});var E=r(w),S=r(E),q=s(r(S),2),et=r(q);t(q),t(S),X(2),t(E);var k=s(E,2),M=r(k),A=r(M),N=r(A);At(N),t(A);var x=s(A,2),P=r(x);P.value=P.__value="";var C=s(P);C.value=C.__value="PENDIENTE";var D=s(C);D.value=D.__value="VERIFICADO";var T=s(D);T.value=T.__value="ANULADO",t(x);var rt=s(x,2);t(M),t(k);var st=s(k,2);{var ot=a=>{Bt(a,{title:"No hay egresos",description:"No se encontraron egresos con los filtros aplicados.",icon:"ðŸ“¤",actionLabel:"Registrar egreso",actionHref:"/admin/egresos/nuevo"})},it=a=>{var U=Mt(),I=yt(U),H=r(I),z=s(r(H));Y(z,21,()=>i.data.egresos,Z,(u,o)=>{var _=Rt(),b=r(_),h=r(b,!0);t(b);var d=s(b),j=r(d),lt=r(j,!0);t(j);var vt=s(j,2);{var ct=n=>{var l=Ot(),F=r(l),y=s(F);t(l),g(()=>{Pt(F,`background:${e(o).rubroColor}`),c(y,` ${e(o).rubro??""}`)}),v(n,l)};O(vt,n=>{e(o).rubro&&n(ct)})}t(d);var B=s(d),pt=r(B,!0);t(B);var L=s(B),mt=r(L,!0);t(L);var V=s(L),ft=r(V);{let n=Et(()=>at(e(o).estado));jt(ft,{get variant(){return e(n)},children:(l,F)=>{X();var y=wt();g(()=>c(y,Lt[e(o).estado])),v(l,y)},$$slots:{default:!0}})}t(V);var G=s(V),ut=r(G);t(G),t(_),g((n,l)=>{c(h,n),c(lt,e(o).concepto),c(pt,e(o).proveedor||"-"),c(mt,l),$(ut,"href",`/admin/egresos/${e(o).id??""}`)},[()=>Vt(e(o).fecha),()=>Ft(e(o).monto)]),v(u,_)}),t(z),t(H),t(I);var dt=s(I,2);{var nt=u=>{var o=qt();Y(o,21,()=>Array(Math.min(i.data.pagination.totalPages,10)),Z,(_,b,h)=>{var d=St();d.textContent=h+1,g(()=>{$(d,"href",`/admin/egresos?page=${h+1}&q=${e(m)??""}&estado=${e(f)??""}`),Nt(d,1,`w-10 h-10 rounded-lg flex items-center justify-center ${i.data.pagination.page===h+1?"bg-primary-600 text-white":"bg-white border border-slate-200 hover:bg-slate-50"}`)}),v(_,d)}),t(o),v(u,o)};O(dt,u=>{i.data.pagination.totalPages>1&&u(nt)})}v(a,U)};O(st,a=>{i.data.egresos.length===0?a(ot):a(it,!1)})}t(w),g(()=>c(et,`${i.data.pagination.total??""} egreso${i.data.pagination.total!==1?"s":""} registrado${i.data.pagination.total!==1?"s":""}`)),Q("keyup",N,a=>a.key==="Enter"&&R()),Ct(N,()=>e(m),a=>W(m,a)),Dt(x,()=>e(f),a=>W(f,a)),Q("click",rt,R),v(tt,w),gt()}_t(["keyup","click"]);export{ea as component};
